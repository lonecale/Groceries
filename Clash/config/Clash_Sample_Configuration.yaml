# mihomo é…ç½®
# æ—¥æœŸï¼š2024-05-21 00:38:30
# é…ç½®ä½œè€…ï¼šhttps://t.me/iKeLee
# é€‚ç”¨ç‰ˆæœ¬ï¼šæ‰€æœ‰ä½¿ç”¨ mihomo æ ¸å¿ƒçš„ç¨‹åº
port: 7890
socks-port: 7891
mixed-port: 7892
redir-port: 7893
tproxy-port: 7894
# mixed-port: 7890
# tproxy-port: 7891

unified-delay: true
# ç»Ÿä¸€å»¶è¿Ÿ æ›´æ¢å»¶è¿Ÿè®¡ç®—æ–¹å¼ï¼Œå»é™¤æ¡æ‰‹ç­‰é¢å¤–å»¶è¿Ÿ

geodata-mode: false
# æ›´æ”¹geoipä½¿ç”¨æ–‡ä»¶,mmdbæˆ–è€…dat,å¯é€‰ true/false,trueä¸ºdat,æ­¤é¡¹æœ‰é»˜è®¤å€¼ false
geodata-loader: memconservative
# GEOæ–‡ä»¶åŠ è½½æ¨¡å¼
# standardï¼šæ ‡å‡†åŠ è½½å™¨ï¼Œmemconservativeï¼šä¸“ä¸ºå†…å­˜å—é™(å°å†…å­˜)è®¾å¤‡ä¼˜åŒ–çš„åŠ è½½å™¨(é»˜è®¤å€¼)
geo-auto-update: true
# è‡ªåŠ¨æ›´æ–° GEO
geo-update-interval: 24
# GEO æ›´æ–°é—´éš”,å•ä½å°æ—¶
tcp-concurrent: true
# TCPå¹¶å‘
find-process-mode: strict
# æ§åˆ¶æ˜¯å¦è®© Clash å»åŒ¹é…è¿›ç¨‹
# always å¼€å¯ï¼Œå¼ºåˆ¶åŒ¹é…æ‰€æœ‰è¿›ç¨‹ strict é»˜è®¤ï¼Œç”± Clash åˆ¤æ–­æ˜¯å¦å¼€å¯ off ä¸åŒ¹é…è¿›ç¨‹ï¼Œæ¨èåœ¨è·¯ç”±å™¨ä¸Šä½¿ç”¨æ­¤æ¨¡å¼
global-client-fingerprint: chrome
# å…¨å±€ TLS æŒ‡çº¹ï¼Œä¼˜å…ˆä½äº proxy å†…çš„ client-fingerprintã€‚
# ç›®å‰æ”¯æŒå¼€å¯ TLS ä¼ è¾“çš„ TCP/grpc/WS/HTTP , æ”¯æŒåè®®æœ‰ VLESS,Vmess å’Œ trojan.
# å¯é€‰ï¼š"chrome", "firefox", "safari", "iOS", "android", "edge", "360"," qq", "random"
# è‹¥é€‰æ‹© "random", åˆ™æŒ‰ Cloudflare Radar æ•°æ®æŒ‰æ¦‚ç‡ç”Ÿæˆä¸€ä¸ªç°ä»£æµè§ˆå™¨æŒ‡çº¹ã€‚

allow-lan: true
# å…è®¸å…¶ä»–è®¾å¤‡ç»è¿‡ Clash çš„ä»£ç†ç«¯å£è®¿é—®äº’è”ç½‘
mode: rule
# è¿è¡Œæ¨¡å¼ï¼šrule è§„åˆ™åŒ¹é… global å…¨å±€ä»£ç† (éœ€è¦åœ¨ GLOBAL ç­–ç•¥ç»„é€‰æ‹©ä»£ç†/ç­–ç•¥) direct å…¨å±€ç›´è¿
log-level: info
# æ—¥å¿—çº§åˆ«
# silent é™é»˜ï¼Œä¸è¾“å‡º
# error ä»…è¾“å‡ºå‘ç”Ÿé”™è¯¯è‡³æ— æ³•ä½¿ç”¨çš„æ—¥å¿—
# warning è¾“å‡ºå‘ç”Ÿé”™è¯¯ä½†ä¸å½±å“è¿è¡Œçš„æ—¥å¿—ï¼Œä»¥åŠ error çº§åˆ«å†…å®¹
# info è¾“å‡ºä¸€èˆ¬è¿è¡Œçš„å†…å®¹ï¼Œä»¥åŠ error å’Œ warning çº§åˆ«çš„æ—¥å¿—
# debug å°½å¯èƒ½çš„è¾“å‡ºè¿è¡Œä¸­æ‰€æœ‰çš„ä¿¡æ¯
ipv6: false
# æ˜¯å¦å…è®¸å†…æ ¸æ¥å— IPv6 æµé‡
udp: true
keep-alive-interval: 1800
#æ§åˆ¶ Clash å‘å‡º TCP Keep Alive åŒ…çš„é—´éš”ï¼Œå‡å°‘ç§»åŠ¨è®¾å¤‡è€—ç”µé—®é¢˜çš„ä¸´æ—¶æªæ–½ã€‚

external-controller: 0.0.0.0:9090
# å¤–éƒ¨æ§åˆ¶å™¨ï¼Œå¯ä»¥ä½¿ç”¨ RESTful API æ¥æ§åˆ¶ä½ çš„ Clash å†…æ ¸
secret: ""
# API çš„è®¿é—®å¯†é’¥
# external-ui: ui
# è‡ªå®šä¹‰å¤–éƒ¨ç”¨æˆ·ç•Œé¢åå­—
# external-ui-url: 'https://github.com/MetaCubeX/metacubexd/archive/refs/heads/gh-pages.zip'
#è‡ªå®šä¹‰å¤–éƒ¨ç”¨æˆ·ç•Œé¢ä¸‹è½½åœ°å€

geox-url:
#è‡ªå®š GEO ä¸‹è½½åœ°å€
  geoip: 'https://raw.githubusercontent.com/Loyalsoldier/v2ray-rules-dat/release/geoip.dat'
  geosite: 'https://raw.githubusercontent.com/Loyalsoldier/v2ray-rules-dat/release/geosite.dat'
  mmdb: 'https://gitlab.com/Masaiki/GeoIP2-CN/-/raw/release/Country.mmdb'
  asn: 'https://github.com/xishang0128/geoip/releases/download/latest/GeoLite2-ASN.mmdb'

profile:
#ç¼“å­˜
  store-selected: true
  # å‚¨å­˜ API å¯¹ç­–ç•¥ç»„çš„é€‰æ‹©ï¼Œä»¥ä¾›ä¸‹æ¬¡å¯åŠ¨æ—¶ä½¿ç”¨
  store-fake-ip: false
  # å‚¨å­˜ fakeip æ˜ å°„è¡¨ï¼ŒåŸŸåå†æ¬¡å‘ç”Ÿè¿æ¥æ—¶ï¼Œä½¿ç”¨åŸæœ‰æ˜ å°„åœ°å€

sniffer:
# åŸŸåå—…æ¢
  enable: true
  # æ˜¯å¦å¯ç”¨sniffer
  force-dns-mapping: false
  # å¯¹ redir-host ç±»å‹è¯†åˆ«çš„æµé‡è¿›è¡Œå¼ºåˆ¶å—…æ¢
  parse-pure-ip: true
  # å¯¹æ‰€æœ‰æœªè·å–åˆ°åŸŸåçš„æµé‡è¿›è¡Œå¼ºåˆ¶å—…æ¢
  sniff:
  #å—…æ¢åè®®
    HTTP:
      ports: [80, 8080-8880]
      override-destination: true
      # æ˜¯å¦ä½¿ç”¨å—…æ¢ç»“æœä½œä¸ºå®é™…è®¿é—®ï¼Œé»˜è®¤ä¸º true
    TLS:
      ports: [443, 8443]
    QUIC:
      ports: [443, 8443]
  force-domain:
  # éœ€è¦å¼ºåˆ¶å—…æ¢çš„åŸŸåï¼ˆé»˜è®¤æƒ…å†µä¸‹åªå¯¹IPè¿›è¡Œå—…æ¢ï¼‰
    - "+.v2ex.com"
  skip-domain:
  # éœ€è¦è·³è¿‡å—…æ¢çš„åŸŸåã€‚ä¸»è¦è§£å†³éƒ¨åˆ†ç«™ç‚¹sniå­—æ®µéåŸŸåï¼Œå¯¼è‡´å—…æ¢ç»“æœå¼‚å¸¸çš„é—®é¢˜ï¼Œå¦‚ç±³å®¶è®¾å¤‡
    - "Mijia Cloud"

tun:
  enable: false
  # æ˜¯å¦å¯ç”¨ tun æ¨¡å¼æ¥è·¯ç”±å…¨å±€æµé‡ã€‚
  stack: mixed
  # tun æ¨¡å¼å †æ ˆ,å¦‚æ— ä½¿ç”¨é—®é¢˜,å»ºè®®ä½¿ç”¨ mixedæ ˆ,é»˜è®¤ gvisor
  # å¯ç”¨å€¼ï¼š system/gvisor/mixed
  dns-hijack:
  # dns åŠ«æŒ,ä¸€èˆ¬è®¾ç½®ä¸º any:53 å³å¯, å³åŠ«æŒæ‰€æœ‰ 53 ç«¯å£çš„ udp æµé‡
    - any:53
    # - tcp://any:53
  auto-route: true
  # è‡ªåŠ¨è®¾ç½®å…¨å±€è·¯ç”±,å¯ä»¥è‡ªåŠ¨å°†å…¨å±€æµé‡è·¯ç”±è¿›å…¥ tun ç½‘å¡ã€‚
  auto-detect-interface: true
  # è‡ªåŠ¨é€‰æ‹©æµé‡å‡ºå£æ¥å£,å¤šå‡ºå£ç½‘å¡åŒæ—¶è¿æ¥çš„è®¾å¤‡å»ºè®®æ‰‹åŠ¨æŒ‡å®šå‡ºå£ç½‘å¡
  device: utun0
  # æŒ‡å®š tun ç½‘å¡åç§°,MacOS è®¾å¤‡åªèƒ½ä½¿ç”¨ utun å¼€å¤´çš„ç½‘å¡å
  mtu: 1500
  # æœ€å¤§ä¼ è¾“å•å…ƒ, å¯ç”¨å€¼ä¸º 1-65534, ä¼šå½±å“æé™çŠ¶æ€ä¸‹çš„é€Ÿç‡,ä¸€èˆ¬ç”¨æˆ·é»˜è®¤å³å¯

dns:
  enable: true
  # æ˜¯å¦å¯ç”¨ï¼Œå¦‚ä¸º falseï¼Œåˆ™ä½¿ç”¨ç³»ç»Ÿ DNS è§£æ
  # prefer-h3: true
  # ä¼˜å…ˆä½¿ç”¨ DOH çš„ http/3
  listen: 0.0.0.0:1053
  # DNS æœåŠ¡ç›‘å¬
  ipv6: true
  # æ˜¯å¦è§£æ IPV6, å¦‚ä¸º false, åˆ™å›åº” AAAA çš„ç©ºè§£æ
  enhanced-mode: fake-ip
  # mihomo çš„ DNS å¤„ç†æ¨¡å¼ fake-ip / redir-host
  fake-ip-range: 28.0.0.1/8
  # fakeip ä¸‹çš„ IP æ®µè®¾ç½®ï¼Œtun ç½‘å¡çš„é»˜è®¤ IP ä¹Ÿä½¿ç”¨æ­¤å€¼ä½œä¸ºå‚è€ƒ
  fake-ip-filter:
  # fakeip è¿‡æ»¤ï¼Œä»¥ä¸‹åœ°å€ä¸ä¼šä¸‹å‘ fakeip æ˜ å°„ç”¨äºè¿æ¥
    - "*"
    - "+.lan"
    - "+.local"
    - "+.msftncsi.com"
    - "+.msftconnecttest.com"
  default-nameserver:
  # é»˜è®¤ DNS, ç”¨äºè§£æ DNS æœåŠ¡å™¨ çš„åŸŸå,å¿…é¡»ä¸º IP, å¯ä¸ºåŠ å¯† DNS
    - 223.5.5.5
  nameserver-policy:
  # æŒ‡å®šåŸŸåæŸ¥è¯¢çš„è§£ææœåŠ¡å™¨ï¼Œå¯ä½¿ç”¨ geosite, ä¼˜å…ˆäº nameserver/fallback æŸ¥è¯¢
    "geosite:cn,private,geolocation-cn,apple-cn":
      - https://dns.alidns.com/dns-query#h3=true
      - https://doh.pub/dns-query
    # "geosite:geolocation-!cn":
      # - "https://dns.cloudflare.com/dns-query#dns"
      # - "https://dns.google/dns-query#dns"
  proxy-server-nameserver:
  # ä»£ç†èŠ‚ç‚¹åŸŸåè§£ææœåŠ¡å™¨ï¼Œä»…ç”¨äºè§£æä»£ç†èŠ‚ç‚¹çš„åŸŸå
    - https://doh.pub/dns-query
  nameserver:
  # é»˜è®¤çš„åŸŸåè§£ææœåŠ¡å™¨ï¼Œå¦‚ä¸é…ç½® fallback/proxy-server-nameserver , åˆ™æ‰€æœ‰åŸŸåéƒ½ç”± nameserver è§£æ
    - https://doh.apad.pro/dns-query
    - https://dns.cooluc.com/dns-query
  # fallback:
  # åå¤‡åŸŸåè§£ææœåŠ¡å™¨ç­›é€‰ï¼Œæ»¡è¶³æ¡ä»¶çš„å°†ä½¿ç”¨ fallbackç»“æœæˆ–åªä½¿ç”¨ fallbackè§£æ 
  # redir-host å»ºè®®å¯ç”¨ï¼Œfake-ip ä¸å»ºè®®
    # - "https://dns.cloudflare.com/dns-query#dns"
    # - "https://dns.google/dns-query#dns"
    # - "https://doh.sb/dns-query#dns"
    # - "https://doh.opendns.com/dns-query#dns"

# é”šç‚¹ - èŠ‚ç‚¹è®¢é˜…çš„å‚æ•° [æ¯å°æ—¶æ›´æ–°ä¸€æ¬¡è®¢é˜…èŠ‚ç‚¹ï¼Œæ¯ 6 ç§’ä¸€æ¬¡å¥åº·æ£€æŸ¥]
NodeParam: &NodeParam {type: http, interval: 3600, health-check: {enable: true, url: 'http://www.msftconnecttest.com/connecttest.txt', interval: 6}}

# é”šç‚¹ - èŠ‚ç‚¹è®¢é˜…
proxy-providers: 
  æœºåœºåç§°1:
    url: 'æœºåœº1çš„è®¢é˜…URL'
    <<: *NodeParam
    path: './proxy_provider/æœºåœºåç§°1.yaml'
    override:
      additional-prefix: "[æœºåœºåç§°1] " # ä¸ºè®¢é˜…èŠ‚ç‚¹æ·»åŠ æœºåœºåç§°å‰ç¼€
  æœºåœºåç§°2:
    url: 'æœºåœº2çš„è®¢é˜…URL'
    <<: *NodeParam
    path: './proxy_provider/æœºåœºåç§°2.yaml'
    override:
      additional-prefix: "[æœºåœºåç§°2] " # ä¸ºè®¢é˜…èŠ‚ç‚¹æ·»åŠ æœºåœºåç§°å‰ç¼€

# é”šç‚¹ - èŠ‚ç‚¹ç­›é€‰ç»„
FilterHK: &FilterHK '^(?=.*((?i)ğŸ‡­ğŸ‡°|é¦™æ¸¯|(\b(HK|Hong)\b)))(?!.*((?i)æ ‡å‡†|å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$'
FilterTW: &FilterTW '^(?=.*((?i)ğŸ‡¹ğŸ‡¼|å°æ¹¾|(\b(TW|Tai|Taiwan)\b)))(?!.*((?i)æ ‡å‡†|å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$'
FilterJP: &FilterJP '^(?=.*((?i)ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|(\b(JP|Japan)\b)))(?!.*((?i)æ ‡å‡†|å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$'
FilterKR: &FilterKR '^(?=.*((?i)ğŸ‡°ğŸ‡·|éŸ©å›½|éŸ“|é¦–å°”|(\b(KR|Korea)\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$'
FilterSG: &FilterSG '^(?=.*((?i)ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®|(\b(SG|Singapore)\b)))(?!.*((?i)æ ‡å‡†|å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$'
FilterUS: &FilterUS '^(?=.*((?i)ğŸ‡ºğŸ‡¸|ç¾å›½|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|(\b(US|United States)\b)))(?!.*((?i)æ ‡å‡†|å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$'
FilterUK: &FilterUK '^(?=.*((?i)ğŸ‡¬ğŸ‡§|è‹±å›½|ä¼¦æ•¦|(\b(UK|United Kingdom)\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$'
FilterFR: &FilterFR '^(?=.*((?i)ğŸ‡«ğŸ‡·|æ³•å›½|(\b(FR|France)\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$'
FilterDE: &FilterDE '^(?=.*((?i)ğŸ‡©ğŸ‡ª|å¾·å›½|(\b(DE|Germany)\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$'
FilterEX: &FilterEX '^(?!.*((?i)æ¸¯|å°|æ—¥|éŸ©|å¡|ç¾|è‹±|æ³•|å¾·|HK|US|TW|JP|KR|KOR|SG|Hong Kong|Tai|Japan|Korea|Singapore|States|UK|United Kingdom|FR|France|DE|Germany|Expire|Traffic|å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$'
FilterGame: &FilterGame '^(?=.*((?i)æ¸¸æˆ|ğŸ®|(\b(GAME)\b)))(?!.*((?i)å›å›½|æ ¡å›­)).*$'
FilterAll: &FilterAll '^(?=.*(.))(?!.*((?i)ç¾¤|é‚€è¯·|è¿”åˆ©|å¾ªç¯|å®˜ç½‘|å®¢æœ|ç½‘ç«™|ç½‘å€|è·å–|è®¢é˜…|æµé‡|åˆ°æœŸ|æœºåœº|ä¸‹æ¬¡|ç‰ˆæœ¬|å®˜å€|å¤‡ç”¨|è¿‡æœŸ|å·²ç”¨|è”ç³»|é‚®ç®±|å·¥å•|è´©å–|é€šçŸ¥|å€’å–|é˜²æ­¢|å›½å†…|åœ°å€|é¢‘é“|æ— æ³•|è¯´æ˜|ä½¿ç”¨|æç¤º|ç‰¹åˆ«|è®¿é—®|æ”¯æŒ|æ•™ç¨‹|å…³æ³¨|æ›´æ–°|ä½œè€…|åŠ å…¥|(\b(USE|USED|TOTAL|EXPIRE|EMAIL|Panel|Channel|Author)\b|(\d{4}-\d{2}-\d{2}|\d+G)))).*$'

# ç­–ç•¥ç»„å‚æ•°é”šç‚¹
# é”šç‚¹ - æ—¶å»¶ä¼˜é€‰å‚æ•° [æ¯ 6 ç§’ä¸€æ¬¡æƒ°æ€§å¥åº·æ£€æŸ¥ï¼Œå®¹å·® 20msï¼Œæ—¶å»¶è¶…è¿‡ 2 ç§’åˆ¤å®šä¸ºå¤±è´¥ï¼Œå¤±è´¥ 3 æ¬¡åˆ™è‡ªåŠ¨è§¦å‘å¥åº·æ£€æŸ¥]
UrlTest: &UrlTest {type: url-test, interval: 6, tolerance: 20, lazy: true, url: 'http://www.msftconnecttest.com/connecttest.txt', disable-udp: false, timeout: 2000, max-failed-times: 3, hidden: true, include-all: true}
# é”šç‚¹ - æ•…éšœè½¬ç§»å‚æ•° [æ¯ 6 ç§’ä¸€æ¬¡æƒ°æ€§å¥åº·æ£€æŸ¥ï¼Œæ—¶å»¶è¶…è¿‡ 2 ç§’åˆ¤å®šä¸ºå¤±è´¥ï¼Œå¤±è´¥ 3 æ¬¡åˆ™è‡ªåŠ¨è§¦å‘å¥åº·æ£€æŸ¥]
FallBack: &FallBack {type: fallback, interval: 6, lazy: true, url: 'http://www.msftconnecttest.com/connecttest.txt', disable-udp: false, timeout: 2000, max-failed-times: 3, hidden: true, include-all: true}
# é”šç‚¹ - è´Ÿè½½å‡è¡¡å‚æ•° [æ¯ 6 ç§’ä¸€æ¬¡æƒ°æ€§å¥åº·æ£€æŸ¥ï¼Œæ—¶å»¶è¶…è¿‡ 2 ç§’åˆ¤å®šä¸ºå¤±è´¥ï¼Œå¤±è´¥ 3 æ¬¡åˆ™è‡ªåŠ¨è§¦å‘å¥åº·æ£€æŸ¥]
LoadBalance: &LoadBalance {type: load-balance, interval: 6, lazy: true, url: 'http://www.msftconnecttest.com/connecttest.txt', disable-udp: false, strategy: consistent-hashing, timeout: 2000, max-failed-times: 3, hidden: true, include-all: true}
# é”šç‚¹ - è§„åˆ™å‚æ•° [æ¯å°æ—¶æ›´æ–°ä¸€æ¬¡è®¢é˜…è§„åˆ™ï¼Œæ›´æ–°è§„åˆ™æ—¶ä½¿ç”¨ç›´è¿ç­–ç•¥]
RuleSet: &RuleSet {type: http, behavior: classical, interval: 3600, format: yaml, proxy: DIRECT}

# ç­–ç•¥ç»„
proxy-groups: 
  - {name: dns, type: select, proxies: [å…¨çƒé€‰æ‹©, ğŸ›é¦™æ¸¯è´Ÿè½½å‡è¡¡ç­–ç•¥ç»„,é¦™æ¸¯ç­–ç•¥, å°æ¹¾ç­–ç•¥, æ—¥æœ¬ç­–ç•¥, éŸ©å›½ç­–ç•¥, æ–°å›½ç­–ç•¥, ç¾å›½ç­–ç•¥, è‹±å›½ç­–ç•¥, æ³•å›½ç­–ç•¥, å¾·å›½ç­–ç•¥, ç‰¹æ®ŠèŠ‚ç‚¹]}
  - {name: æ¸¸æˆé€‰æ‹©, type: select, include-all: true, filter: *FilterGame, proxies: [DIRECT, å…¨çƒé€‰æ‹©, ç‰¹æ®ŠèŠ‚ç‚¹]}
  - {name: å…¨çƒé€‰æ‹©, type: select, include-all: true, filter: *FilterAll}
  - {name: å¢ƒå¤–ä¸‹è½½, type: select, include-all: true, filter: *FilterAll, proxies: [DIRECT]}
  - {name: AI, type: select, include-all: true, filter: *FilterAll}
  - {name: TikTok, type: select, include-all: true, filter: *FilterAll}
  - {name: Telegram, type: select, proxies: [é¦™æ¸¯ç­–ç•¥, å°æ¹¾ç­–ç•¥, æ—¥æœ¬ç­–ç•¥, éŸ©å›½ç­–ç•¥, æ–°å›½ç­–ç•¥, ç¾å›½ç­–ç•¥, è‹±å›½ç­–ç•¥, æ³•å›½ç­–ç•¥, å¾·å›½ç­–ç•¥, ç‰¹æ®ŠèŠ‚ç‚¹]}
  - {name: App Store, type: select, proxies: [DIRECT, é¦™æ¸¯ç­–ç•¥, å°æ¹¾ç­–ç•¥, æ—¥æœ¬ç­–ç•¥, éŸ©å›½ç­–ç•¥, æ–°å›½ç­–ç•¥, ç¾å›½ç­–ç•¥, è‹±å›½ç­–ç•¥, æ³•å›½ç­–ç•¥, å¾·å›½ç­–ç•¥, ç‰¹æ®ŠèŠ‚ç‚¹]}
  - {name: Apple ID, type: select, proxies: [DIRECT, é¦™æ¸¯ç­–ç•¥, å°æ¹¾ç­–ç•¥, æ—¥æœ¬ç­–ç•¥, éŸ©å›½ç­–ç•¥, æ–°å›½ç­–ç•¥, ç¾å›½ç­–ç•¥, è‹±å›½ç­–ç•¥, æ³•å›½ç­–ç•¥, å¾·å›½ç­–ç•¥, ç‰¹æ®ŠèŠ‚ç‚¹]}
  - {name: TestFlight, type: select, proxies: [DIRECT, é¦™æ¸¯ç­–ç•¥, å°æ¹¾ç­–ç•¥, æ—¥æœ¬ç­–ç•¥, éŸ©å›½ç­–ç•¥, æ–°å›½ç­–ç•¥, ç¾å›½ç­–ç•¥, è‹±å›½ç­–ç•¥, æ³•å›½ç­–ç•¥, å¾·å›½ç­–ç•¥, ç‰¹æ®ŠèŠ‚ç‚¹]}
  - {name: 1Password, type: select, proxies: [DIRECT, é¦™æ¸¯ç­–ç•¥, å°æ¹¾ç­–ç•¥, æ—¥æœ¬ç­–ç•¥, éŸ©å›½ç­–ç•¥, æ–°å›½ç­–ç•¥, ç¾å›½ç­–ç•¥, è‹±å›½ç­–ç•¥, æ³•å›½ç­–ç•¥, å¾·å›½ç­–ç•¥, ç‰¹æ®ŠèŠ‚ç‚¹]}
  - {name: Microsoft, type: select, proxies: [DIRECT, é¦™æ¸¯ç­–ç•¥, å°æ¹¾ç­–ç•¥, æ—¥æœ¬ç­–ç•¥, éŸ©å›½ç­–ç•¥, æ–°å›½ç­–ç•¥, ç¾å›½ç­–ç•¥, è‹±å›½ç­–ç•¥, æ³•å›½ç­–ç•¥, å¾·å›½ç­–ç•¥, ç‰¹æ®ŠèŠ‚ç‚¹]}
  - {name: Netflix, type: select, proxies: [é¦™æ¸¯ç­–ç•¥, å°æ¹¾ç­–ç•¥, æ—¥æœ¬ç­–ç•¥, éŸ©å›½ç­–ç•¥, æ–°å›½ç­–ç•¥, ç¾å›½ç­–ç•¥, è‹±å›½ç­–ç•¥, æ³•å›½ç­–ç•¥, å¾·å›½ç­–ç•¥, ç‰¹æ®ŠèŠ‚ç‚¹]}
  - {name: Emby, type: select, proxies: [DIRECT, é¦™æ¸¯ç­–ç•¥, å°æ¹¾ç­–ç•¥, æ—¥æœ¬ç­–ç•¥, éŸ©å›½ç­–ç•¥, æ–°å›½ç­–ç•¥, ç¾å›½ç­–ç•¥, è‹±å›½ç­–ç•¥, æ³•å›½ç­–ç•¥, å¾·å›½ç­–ç•¥, ç‰¹æ®ŠèŠ‚ç‚¹]}
  - {name: å…œåº•ç­–ç•¥, type: select, proxies: [é¦™æ¸¯ç­–ç•¥, å°æ¹¾ç­–ç•¥, æ—¥æœ¬ç­–ç•¥, éŸ©å›½ç­–ç•¥, æ–°å›½ç­–ç•¥, ç¾å›½ç­–ç•¥, è‹±å›½ç­–ç•¥, æ³•å›½ç­–ç•¥, å¾·å›½ç­–ç•¥, ç‰¹æ®ŠèŠ‚ç‚¹, DIRECT]}

  - {name: ç‰¹æ®ŠèŠ‚ç‚¹, type: select, include-all: true, filter: *FilterEX}
  - {name: é¦™æ¸¯ç­–ç•¥, type: select, proxies: [â±é¦™æ¸¯æ—¶å»¶ä¼˜é€‰ç­–ç•¥ç»„, ğŸš¥é¦™æ¸¯æ•…éšœè½¬ç§»ç­–ç•¥ç»„, ğŸ›é¦™æ¸¯è´Ÿè½½å‡è¡¡ç­–ç•¥ç»„]}
  - {name: å°æ¹¾ç­–ç•¥, type: select, proxies: [â±å°æ¹¾æ—¶å»¶ä¼˜é€‰ç­–ç•¥ç»„, ğŸš¥å°æ¹¾æ•…éšœè½¬ç§»ç­–ç•¥ç»„, ğŸ›å°æ¹¾è´Ÿè½½å‡è¡¡ç­–ç•¥ç»„]}
  - {name: æ—¥æœ¬ç­–ç•¥, type: select, proxies: [â±æ—¥æœ¬æ—¶å»¶ä¼˜é€‰ç­–ç•¥ç»„, ğŸš¥æ—¥æœ¬æ•…éšœè½¬ç§»ç­–ç•¥ç»„, ğŸ›æ—¥æœ¬è´Ÿè½½å‡è¡¡ç­–ç•¥ç»„]}
  - {name: éŸ©å›½ç­–ç•¥, type: select, proxies: [â±éŸ©å›½æ—¶å»¶ä¼˜é€‰ç­–ç•¥ç»„, ğŸš¥éŸ©å›½æ•…éšœè½¬ç§»ç­–ç•¥ç»„, ğŸ›éŸ©å›½è´Ÿè½½å‡è¡¡ç­–ç•¥ç»„]}
  - {name: æ–°å›½ç­–ç•¥, type: select, proxies: [â±æ–°å›½æ—¶å»¶ä¼˜é€‰ç­–ç•¥ç»„, ğŸš¥æ–°å›½æ•…éšœè½¬ç§»ç­–ç•¥ç»„, ğŸ›æ–°å›½è´Ÿè½½å‡è¡¡ç­–ç•¥ç»„]}
  - {name: ç¾å›½ç­–ç•¥, type: select, proxies: [â±ç¾å›½æ—¶å»¶ä¼˜é€‰ç­–ç•¥ç»„, ğŸš¥ç¾å›½æ•…éšœè½¬ç§»ç­–ç•¥ç»„, ğŸ›ç¾å›½è´Ÿè½½å‡è¡¡ç­–ç•¥ç»„]}
  - {name: è‹±å›½ç­–ç•¥, type: select, proxies: [â±è‹±å›½æ—¶å»¶ä¼˜é€‰ç­–ç•¥ç»„, ğŸš¥è‹±å›½æ•…éšœè½¬ç§»ç­–ç•¥ç»„, ğŸ›è‹±å›½è´Ÿè½½å‡è¡¡ç­–ç•¥ç»„]}
  - {name: æ³•å›½ç­–ç•¥, type: select, proxies: [â±æ³•å›½æ—¶å»¶ä¼˜é€‰ç­–ç•¥ç»„, ğŸš¥æ³•å›½æ•…éšœè½¬ç§»ç­–ç•¥ç»„, ğŸ›æ³•å›½è´Ÿè½½å‡è¡¡ç­–ç•¥ç»„]}
  - {name: å¾·å›½ç­–ç•¥, type: select, proxies: [â±å¾·å›½æ—¶å»¶ä¼˜é€‰ç­–ç•¥ç»„, ğŸš¥å¾·å›½æ•…éšœè½¬ç§»ç­–ç•¥ç»„, ğŸ›å¾·å›½è´Ÿè½½å‡è¡¡ç­–ç•¥ç»„]}

# æ—¶å»¶ä¼˜é€‰ç­–ç•¥ç»„
  - {name: â±é¦™æ¸¯æ—¶å»¶ä¼˜é€‰ç­–ç•¥ç»„, <<: *UrlTest, filter: *FilterHK}
  - {name: â±å°æ¹¾æ—¶å»¶ä¼˜é€‰ç­–ç•¥ç»„, <<: *UrlTest, filter: *FilterTW}
  - {name: â±æ—¥æœ¬æ—¶å»¶ä¼˜é€‰ç­–ç•¥ç»„, <<: *UrlTest, filter: *FilterJP}
  - {name: â±éŸ©å›½æ—¶å»¶ä¼˜é€‰ç­–ç•¥ç»„, <<: *UrlTest, filter: *FilterKR}
  - {name: â±æ–°å›½æ—¶å»¶ä¼˜é€‰ç­–ç•¥ç»„, <<: *UrlTest, filter: *FilterSG}
  - {name: â±ç¾å›½æ—¶å»¶ä¼˜é€‰ç­–ç•¥ç»„, <<: *UrlTest, filter: *FilterUS}
  - {name: â±è‹±å›½æ—¶å»¶ä¼˜é€‰ç­–ç•¥ç»„, <<: *UrlTest, filter: *FilterUK}
  - {name: â±æ³•å›½æ—¶å»¶ä¼˜é€‰ç­–ç•¥ç»„, <<: *UrlTest, filter: *FilterFR}
  - {name: â±å¾·å›½æ—¶å»¶ä¼˜é€‰ç­–ç•¥ç»„, <<: *UrlTest, filter: *FilterDE}

# æ•…éšœè½¬ç§»ç­–ç•¥ç»„
  - {name: ğŸš¥é¦™æ¸¯æ•…éšœè½¬ç§»ç­–ç•¥ç»„, <<: *FallBack, filter: *FilterHK}
  - {name: ğŸš¥å°æ¹¾æ•…éšœè½¬ç§»ç­–ç•¥ç»„, <<: *FallBack, filter: *FilterTW}
  - {name: ğŸš¥æ—¥æœ¬æ•…éšœè½¬ç§»ç­–ç•¥ç»„, <<: *FallBack, filter: *FilterJP}
  - {name: ğŸš¥éŸ©å›½æ•…éšœè½¬ç§»ç­–ç•¥ç»„, <<: *FallBack, filter: *FilterKR}
  - {name: ğŸš¥æ–°å›½æ•…éšœè½¬ç§»ç­–ç•¥ç»„, <<: *FallBack, filter: *FilterSG}
  - {name: ğŸš¥ç¾å›½æ•…éšœè½¬ç§»ç­–ç•¥ç»„, <<: *FallBack, filter: *FilterUS}
  - {name: ğŸš¥è‹±å›½æ•…éšœè½¬ç§»ç­–ç•¥ç»„, <<: *FallBack, filter: *FilterUK}
  - {name: ğŸš¥æ³•å›½æ•…éšœè½¬ç§»ç­–ç•¥ç»„, <<: *FallBack, filter: *FilterFR}
  - {name: ğŸš¥å¾·å›½æ•…éšœè½¬ç§»ç­–ç•¥ç»„, <<: *FallBack, filter: *FilterDE}

# è´Ÿè½½å‡è¡¡ç­–ç•¥ç»„
  - {name: ğŸ›é¦™æ¸¯è´Ÿè½½å‡è¡¡ç­–ç•¥ç»„, <<: *LoadBalance, filter: *FilterHK}
  - {name: ğŸ›å°æ¹¾è´Ÿè½½å‡è¡¡ç­–ç•¥ç»„, <<: *LoadBalance, filter: *FilterTW}
  - {name: ğŸ›æ—¥æœ¬è´Ÿè½½å‡è¡¡ç­–ç•¥ç»„, <<: *LoadBalance, filter: *FilterJP}
  - {name: ğŸ›éŸ©å›½è´Ÿè½½å‡è¡¡ç­–ç•¥ç»„, <<: *LoadBalance, filter: *FilterKR}
  - {name: ğŸ›æ–°å›½è´Ÿè½½å‡è¡¡ç­–ç•¥ç»„, <<: *LoadBalance, filter: *FilterSG}
  - {name: ğŸ›ç¾å›½è´Ÿè½½å‡è¡¡ç­–ç•¥ç»„, <<: *LoadBalance, filter: *FilterUS}
  - {name: ğŸ›è‹±å›½è´Ÿè½½å‡è¡¡ç­–ç•¥ç»„, <<: *LoadBalance, filter: *FilterUK}
  - {name: ğŸ›æ³•å›½è´Ÿè½½å‡è¡¡ç­–ç•¥ç»„, <<: *LoadBalance, filter: *FilterFR}
  - {name: ğŸ›å¾·å›½è´Ÿè½½å‡è¡¡ç­–ç•¥ç»„, <<: *LoadBalance, filter: *FilterDE}

# è®¢é˜…è§„åˆ™
rule-providers:
  Lan:
    <<: *RuleSet
    path: './RuleSet/Lan.yaml'
    url: 'https://gitlab.com/lodepuly/proxy_tool_resources/-/raw/master/rule/Clash/Lan/Lan.yaml'

  Direct:
    <<: *RuleSet
    path: './RuleSet/Direct.yaml'
    url: 'https://gitlab.com/lodepuly/vpn_tool/-/raw/master/Tool/Clash/Rule/Direct.yaml'

  Proxy:
    <<: *RuleSet
    path: './RuleSet/Proxy.yaml'
    url: 'https://gitlab.com/lodepuly/vpn_tool/-/raw/master/Tool/Clash/Rule/Proxy.yaml'

  ChinaDownloadCDN:
    <<: *RuleSet
    path: './RuleSet/ChinaDownloadCDN.yaml'
    url: 'https://gitlab.com/lodepuly/vpn_tool/-/raw/master/Tool/Clash/Rule/ChinaDownloadCDN.yaml'

  InternationalDownloadCDN:
    <<: *RuleSet
    path: './RuleSet/InternationalDownloadCDN.yaml'
    url: 'https://gitlab.com/lodepuly/vpn_tool/-/raw/master/Tool/Clash/Rule/InternationalDownloadCDN.yaml'

  AI:
    <<: *RuleSet
    path: './RuleSet/AI.yaml'
    url: 'https://gitlab.com/lodepuly/vpn_tool/-/raw/master/Tool/Clash/Rule/AI.yaml'

  TikTok:
    <<: *RuleSet
    path: './RuleSet/TikTok.yaml'
    url: 'https://gitlab.com/lodepuly/vpn_tool/-/raw/master/Tool/Clash/Rule/TikTok.yaml'

  Game:
    <<: *RuleSet
    path: './RuleSet/Game.yaml'
    url: 'https://gitlab.com/lodepuly/vpn_tool/-/raw/master/Tool/Clash/Rule/Game.yaml'

  1Password:
    <<: *RuleSet
    path: './RuleSet/1PasswordUS.yaml'
    url: 'https://gitlab.com/lodepuly/vpn_tool/-/raw/master/Tool/Clash/Rule/1PasswordUS.yaml'

  Steam:
    <<: *RuleSet
    path: './RuleSet/Steam.yaml'
    url: 'https://gitlab.com/lodepuly/proxy_tool_resources/-/raw/master/rule/Clash/Steam/Steam.yaml'

  Netflix:
    <<: *RuleSet
    path: './RuleSet/Netflix.yaml'
    url: 'https://gitlab.com/lodepuly/proxy_tool_resources/-/raw/master/rule/Clash/Netflix/Netflix.yaml'

  Emby:
    <<: *RuleSet
    path: './RuleSet/Emby.yaml'
    url: 'https://gitlab.com/lodepuly/vpn_tool/-/raw/master/Tool/Clash/Rule/EmbyServer.yaml'

  iCloudChina:
    <<: *RuleSet
    path: './RuleSet/iCloudChina.yaml'
    url: 'https://gitlab.com/lodepuly/vpn_tool/-/raw/master/Tool/Clash/Rule/iCloudChina.yaml'

  ApplePushNotificationService:
    <<: *RuleSet
    path: './RuleSet/ApplePushNotificationService.yaml'
    url: 'https://gitlab.com/lodepuly/vpn_tool/-/raw/master/Tool/Clash/Rule/ApplePushNotificationService.yaml'

  AppleSoftwareUpdates:
    <<: *RuleSet
    path: './RuleSet/AppleSoftwareUpdates.yaml'
    url: 'https://gitlab.com/lodepuly/vpn_tool/-/raw/master/Tool/Clash/Rule/AppleSoftwareUpdates.yaml'

  AppleID:
    <<: *RuleSet
    path: './RuleSet/AppleID.yaml'
    url: 'https://gitlab.com/lodepuly/vpn_tool/-/raw/master/Tool/Clash/Rule/AppleID.yaml'

  AppStore:
    <<: *RuleSet
    path: './RuleSet/AppStore.yaml'
    url: 'https://gitlab.com/lodepuly/vpn_tool/-/raw/master/Tool/Clash/Rule/AppStore.yaml'

  TestFlight:
    <<: *RuleSet
    path: './RuleSet/TestFlight.yaml'
    url: 'https://gitlab.com/lodepuly/proxy_tool_resources/-/raw/master/rule/Clash/TestFlight/TestFlight.yaml'

  Microsoft:
    <<: *RuleSet
    path: './RuleSet/Microsoft.yaml'
    url: 'https://gitlab.com/lodepuly/proxy_tool_resources/-/raw/master/rule/Clash/Microsoft/Microsoft.yaml'

  Google:
    <<: *RuleSet
    path: './RuleSet/Google.yaml'
    url: 'https://gitlab.com/lodepuly/proxy_tool_resources/-/raw/master/rule/Clash/Google/Google.yaml'

  Telegram:
    <<: *RuleSet
    path: './RuleSet/Telegram.yaml'
    url: 'https://gitlab.com/lodepuly/vpn_tool/-/raw/master/Tool/Clash/Rule/Telegram.yaml'

  ESET_China:
    <<: *RuleSet
    path: './RuleSet/ESET_China.yaml'
    url: 'https://gitlab.com/lodepuly/vpn_tool/-/raw/master/Tool/Clash/Rule/ESET_China.yaml'

# è§„åˆ™æŒ‡å‘
rules:
  - RULE-SET, Lan, DIRECT
  - RULE-SET, Direct, DIRECT
  - RULE-SET, Proxy, å…œåº•ç­–ç•¥
  - RULE-SET, ChinaDownloadCDN, DIRECT
  - RULE-SET, InternationalDownloadCDN, å¢ƒå¤–ä¸‹è½½
  - RULE-SET, AI, AI
  - RULE-SET, TikTok, TikTok
  - RULE-SET, Steam, å…œåº•ç­–ç•¥
  - RULE-SET, Game, æ¸¸æˆé€‰æ‹©
  - RULE-SET, Netflix, Netflix
  - RULE-SET, Emby, Emby
  - RULE-SET, TestFlight, TestFlight
  - RULE-SET, iCloudChina, DIRECT
  - RULE-SET, ApplePushNotificationService, DIRECT
  - RULE-SET, AppleSoftwareUpdates, DIRECT
  - RULE-SET, AppleID, Apple ID
  - RULE-SET, AppStore, App Store
  - RULE-SET, 1Password, 1Password
  - RULE-SET, Microsoft, Microsoft
  - RULE-SET, Google, å…œåº•ç­–ç•¥
  - RULE-SET, Telegram, Telegram
  - RULE-SET, ESET_China, DIRECT
  - GEOIP, CN, DIRECT
  - MATCH, å…œåº•ç­–ç•¥
